@startuml
hide footbox
!include style.puml
participant ":Duke" MAIN_COLOUR
participant ":Storage" as Storage STORAGE_COLOUR
participant ":UserCareerData" COMMONS_COLOUR
participant ":UserPlan" LAPIS
Storage++ STORAGE_COLOUR
":Duke" -> Storage : loadUserData()
activate Storage STORAGE_FADED_COLOUR
        Storage -> ":UserCareerData"
        activate ":UserCareerData" COMMONS_COLOUR
            loop sessions in file times
                Storage -> ":UserCareerData" : addWorkoutSession()
            end
            ":UserCareerData" --> Storage : UserCareerData
    deactivate ":UserCareerData"
    Storage --> ":Duke" : UserCareerData
deactivate Storage
":Duke" -> Storage : loadUserPlans()
    activate Storage STORAGE_FADED_COLOUR
    Storage -> ":UserPlan"
    activate ":UserPlan" LAPIS
    loop days in a week times
            loop num of plans from file in a day times
                Storage -> ":UserPlan" : addDayPlan()
            end
    end
    ":UserPlan" --> Storage : UserPlan()
    deactivate ":UserPlan"
    Storage --> ":Duke" : UserPlan

deactivate Storage


@enduml
